/* --- SCROLLBARS --- */
    ::-webkit-scrollbar { 
      width: 0.3rem; 
      background-color: #00000000; 
    }
    ::-webkit-scrollbar-track { 
      border-radius: 10px; 
      background-color: #18181800; 
    }
    ::-webkit-scrollbar-thumb { 
      background: #fff1e0; 
      border-radius: 20px; 
    }

    body {
      font-family: "Noto Sans Georgian", sans-serif;
      background: rgb(15, 14, 13);
      color: #fffbe8;
      margin-top: 20px;
      min-height: 100vh;       /* allow page to grow while still filling viewport */
      display: flex;
      justify-content: center;
      align-items: flex-start; /* attach to top instead of center */
      padding-top: 12px;       /* small gap from top */
      transition: 0.3s ease;
      padding-bottom: 40px;
    }


    #quiz-container {
      position: relative;
      max-width: 800px;
      width: 100%;
      padding: 30px 20px;
      background: #221c17;
      border-radius: 20px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
      text-align: center;
      transition: 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      overflow-y: auto;
      margin-bottom: 40px;
    }

    #quiz-container.fade-out { animation: fadeOut 0.2s forwards; }
    #quiz-container.fade-in { animation: fadeIn 0.2s forwards; }
    @keyframes fadeOut { 0% {opacity:1;} 100% {opacity:0;} }
    @keyframes fadeIn { 0% {opacity:0;} 100% {opacity:1;} }

    h1 { font-size: 16px; text-align: center; margin-top: 10px; transition: 0.3s ease; }

    #question h2 { font-size:21px; text-align:center; margin:10px 0; font-weight:600; letter-spacing: 0.3px; line-height: 1.4; }

    .option {
      display: block;
      background: #312820;
      margin: 16px 0px;
      padding: 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s ease;
      border: 2px solid transparent;
      font-size: 21px;
      text-align: center;
      letter-spacing: 0.3px;
      line-height: 1.8;
      font-weight: 500;
    }

    .option:hover:not(.correct):not(.wrong):not(.skip) { 
      border-color: hsl(28, 21%, 22%); 
      background: hsl(28, 21%, 18%);
    }

    .option.correct { border-color: #39eb33; background: #312820; }
    .option.wrong { border-color: #ff2c2c; background: #312820; }

    .option.skip { 
      background: #ffddc1; 
      color: #221c17; 
      font-weight: 600;
    }
    .option.skip:hover {
      background: #ffc077;
      color: #221c17;
      border: 2px solid #ffddb3;
    }

    #result { font-size: 20px; font-weight: bold; margin: 10px 0; color: #f3d3ae; order: 3; }

    #restart {
      display: none;
      margin: 10px 0;
      padding: 15px 15px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      background: #ffddc1; 
      color: #221c17; 
      cursor: pointer;
      font-weight: 600;
      order: 4;
      align-self: center;
    }


    .option .mjx-chtml { line-height: 1.1; vertical-align: middle; margin: 0; }
    .option.has-math { padding-top: 2px; padding-bottom: 2px; }

    #top-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    #close-btn { 
      position: static;
      font-size: 20px;
      font-weight: 600;
      color: #ffddc1;
      cursor: pointer;
      user-select: none;
      transition: 0.3s ease;
      margin-left: 10px;
      margin-right: 5px;
      display: none;
    }

    #close-btn:hover { color: #ffc49d; transform: scale(1.3);}

    #mode-switch {
      font-size: 20px;
      cursor: pointer;
      color: #000000;
      user-select: none;
      transition: 0.3s ease;
      margin-right: 0;
    }
    #mode-switch:hover { color: #ffffff; scale: 1.3; }

    #progress-container { 
      flex: 1;
      width: 100%; 
      background: hsl(50, 10%, 15%); 
      border-radius: 30px; 
      height: 10px; 
      overflow: hidden; 
      transition: 0.3s ease;
    }

    #progress-bar { 
      height: 100%; 
      width: 0%; 
      background: #ffce84; 
      transition: 0.3s ease; 
      border-radius: inherit; 
    }

    /* Light mode, mobile, etc. remain same */
    body.light { background: #cc9867; color: #422c20; }
    body.light #quiz-container { background: #ffe7cb; color: #573a29; }
    body.light .option { background: #f3d3ae; color: #422c20; border-color: transparent; font-weight: 500; }
    body.light #result { color: #573a29; }
    body.light .option.skip { background: #422c20; color: #f3d3ae; }
    body.light .option.skip:hover { background: #6e4933; border-color: rgb(167, 117, 89); }
    body.light .option:hover:not(.correct):not(.wrong):not(.skip) { background-color: #ffe0bd; border-color: #d39f64; }
    body.light .option.correct { border-color: #239914; background: #f3d3ae; }
    body.light .option.wrong { border-color: #bd1a1a; background: #f3d3ae; }
    body.light #progress-container { background: #f3d3ae; }
    body.light #progress-bar { background: #573a29; }
    body.light #close-btn, body.light #mode-switch { color: #573a29; }
    body.light #close-btn:hover, body.light #mode-switch:hover { color: #000; }
    body.light #restart { background: #573a29; color: #f3d3ae; }

    /* Inline image rendering: preserve aspect ratio, center, don't fill/crop */
    .inline-image,
    #question .inline-image,
    #options .inline-image,
    .option img.inline-image {
      display: block;
      margin: 0 auto;
      max-width: 100%;
      max-height: 40vh;     /* constrain height so it won't overflow viewport */
      object-fit: contain;  /* preserve ratio and fit inside bounds */
      object-position: center;
    }



