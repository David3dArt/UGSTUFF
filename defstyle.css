
@font-face {
    font-family: 'TBC Contractica';
    src: url('https://github.com/David3dArt/UGSTUFF/raw/refs/heads/main/css%20font/TBCContracticaCAPS-Book.woff');
    font-weight: normal;
    font-display: swap;
}

@font-face {
    font-family: 'TBC Contractica';
    src: url('https://github.com/David3dArt/UGSTUFF/raw/refs/heads/main/css%20font/TBCContracticaCAPS-Bold.woff');
    font-weight: bold;
    font-display: swap;
}


@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Georgian:wght@100..900&display=swap');

/* --- SCROLLBARS --- */
    ::-webkit-scrollbar { 
      width: 0.4rem; 
      background-color: #00000000; 
    }
    ::-webkit-scrollbar-track { 
      border-radius: 10px; 
      background-color: #18181800; 
    }
    ::-webkit-scrollbar-thumb { 
      background: #fff1e0; 
      border-radius: 20px; 
    }

    body {
      background: black;
      color: #fffbe8;
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;    /* attach to top */
      padding-top: var(--quiz-top, 100px); /* controlled by JS state classes */
      transition: 0.2s ease;
      margin-left: 20px;
      margin-right: 20px;
      font-family: 'TBC Contractica';
    }

    #quiz-container {
      position: relative;
      max-width: 800px;
      width: 100%;
      padding: 20px;
      background: hsl(19, 38%, 15%);
      border-radius: 20px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
      text-align: center;
      transition: 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      overflow-y: auto;
    }

    /* --- FADE --- */
    #quiz-container.fade-out { animation: fadeOut 0.2s forwards; }
    #quiz-container.fade-in { animation: fadeIn 0.2s forwards; }
    @keyframes fadeOut { 0% {opacity:1;} 100% {opacity:0;} }
    @keyframes fadeIn { 0% {opacity:0;} 100% {opacity:1;} }

    h1 { 
      font-size: 1.113rem; 
      text-align: center; 
      margin-top: 10px; 
      transition: 0.2s ease;
    }

    #question h2 { 
      font-size:1.313rem; 
      text-align:center;  
      margin:10px 0; 
      font-weight:bold;
      letter-spacing: 0.3px;
      line-height: 1.4;
    }

    .option {
      display: block;
      background: hsl(19, 38%, 22%);
      margin: 14px 0px;
      padding: 10px 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s ease;
      border: 2px solid transparent;
      font-size: 1.125rem;
      text-align: center;
      letter-spacing: 0.3px;
      line-height: 1.8;
      font-weight: 400;
      padding-left: 20px;
    }

    /* --- FIXED: remove hover color conflict when pressed --- */
    .option:hover:not(.correct):not(.wrong):not(.skip) { 
      border-color: hsl(19, 38%, 22%); 
      background: hsl(19, 37%, 19%);
    }

    .option.correct { 
      border-color: #40c43c; 
      background: hsl(19, 37%, 19%);
    }

    .option.wrong { 
      border-color: #e62d2d; 
      background: hsl(19, 37%, 19%);
    }

    .option.skip { 
      background: hsl(19, 46%, 29%); 
      color: hsl(18, 100%, 90%); 
      font-weight: 400;
    }

    .option.skip:hover {
        background: hsl(18, 46%, 33%);
        color: #ffffff;
        border: 2px solid hsl(19, 46%, 42%);
      }


    #result { 
      font-size: 1.25rem; 
      font-weight: bold; 
      margin: 10px 0;
      color: #f3d3ae; 
      order: 3;
    }

    #restart {
      display: none;
      margin: 10px 0;
      padding: 15px 15px;
      font-size: 1.1rem;
      border: none;
      border-radius: 10px;
      background: #ffddc1; 
      color: #221c17; 
      cursor: pointer;
      font-weight: 600;
      order: 4;
      align-self: center;
    }

    .option .mjx-chtml { 
      line-height: 1.1; 
      vertical-align: middle; 
      margin: 0; 
    }

    .option.has-math { 
      padding-top: 2px; 
      padding-bottom: 2px; 
    }

    /* --- TOP BAR --- */
    #top-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    #close-btn { 
      position: static;
      font-size: 1.25rem;
      font-weight: 600;
      color: #ffddc1;
      cursor: pointer;
      user-select: none;
      transition: 0.2s ease;
      margin-left: 10px;
      margin-right: 5px;
      display: none; /* hide on startup */
    }

    #close-btn:hover { color: #ffc49d; transform: scale(1.3);}

    /* --- LIGHT/DARK SWITCH --- */
    #mode-switch {
      font-size: 1.25rem;
      cursor: pointer;
      color: #000000;
      user-select: none;
      transition: 0.2s ease;
      margin-right: 0;
    }
    #mode-switch:hover { color: #ffffff; scale: 1.3; }

    #progress-container { 
      flex: 1;
      width: 100%; 
      background: hsl(18, 34%, 11%); 
      border-radius: 30px; 
      height: 10px; 
      overflow: hidden; 
      transition: 0.2s ease;
    }

    #progress-bar { 
      height: 100%; 
      width: 0%; 
      background: #ffce84; 
      transition: 0.2s ease; 
      border-radius: inherit; 
    }

    #upload-area { 
      border: 2px dashed #f3d3ae; 
      padding: 30px; 
      border-radius: 10px; 
      margin: 20px 0; 
      cursor: pointer; 
      transition: 0.2s ease; 
      font-size: 20px; 
      order: 2;
    }

    #upload-area:hover { 
      border-color: #ffc98b; 
      font-size: 21px;
      color: #ffc98b;
    }

    /* --- LIGHT MODE --- */
    body.light {
      background: #cc9867;
      color: #422c20;
    }
    body.light #quiz-container {
      background: #ffe7cb;
      color: #573a29;
    }
    body.light .option {
      background: #f3d3ae;
      color: #422c20;
      border-color: transparent ;
      font-weight: 500;
    }


    body.light #result { 
      font-size: 20px; 
      font-weight: bold; 
      margin: 10px 0;
      color: #573a29; 
      order: 3;
    }
    
    body.light .option.skip {
    background: #422c20;
    color: #f3d3ae;
    border-color: transparent;
    }


    /* New: hover style for skip button in light mode */
    body.light .option.skip:hover {
      background: #6e4933;
      border-color: rgb(167, 117, 89);
    }

    body.light .option:hover:not(.correct):not(.wrong):not(.skip) {
      background-color: #ffe0bd;
      border-color: #d39f64; 
    }

    body.light .option.correct { 
      border-color: #239914; 
      background: #f3d3ae;
    }
    body.light .option.wrong { 
      border-color: #bd1a1a; 
      background: #f3d3ae;
    }
    body.light #progress-container {
      background: #f3d3ae;
    }
    body.light #progress-bar {
      background: #573a29;
    }
    body.light #upload-area {
      border-color: #573a29;
      color: #573a29;
      font-weight: 600;
    }
    body.light #close-btn,
    body.light #mode-switch {
      color: #573a29;
    }
    body.light #close-btn:hover,
    body.light #mode-switch:hover {
      color: #000;
    }
    body.light #restart {
      background: #573a29;
      color: #f3d3ae;
    }

    /* --- MOBILE --- */
    @media (max-width: 768px) {
      body { 
        align-items: flex-start; 
        padding-top:0; 
        background-color: #221c17; 
        overflow: auto; 
      }

      #quiz-container { 
        max-width:100%; 
        width:100%; 
        border-radius:0; 
        box-shadow:none; 
        padding:20px 15px; 
        height:auto; 
        display:flex; 
        flex-direction:column;
      }

      #progress-container { margin-bottom:3px; }
      h1 { font-size:1rem; }
      #question h2 { 
        font-size:1.25rem; 
        text-align:center;  
        margin:10px 0; 
        font-weight:400;
      }
      .option { 
        font-size:1.125rem; 
        padding:2px 0; 
        border:2px solid transparent; 
        margin:10px 0;
      }
      #options { 
        flex:1; 
        padding-bottom:1.25rem;
        font-size: 1.1rem;
        overflow: hidden; 
        margin-bottom: 20px;
      }
      #result { 
        font-size:1.125rem; 
        margin:10px 0;
      }
      #restart { 
        font-size:1rem; 
        padding:10px 20px;
        margin:10px auto;
      }

      body.light {
        background: #ffe7cb;
      }
    }

    /* Reduce top spacing when quiz grows:
       - default --quiz-top = 28px (set above via var())
       - attach-top reduces it
       - attach-full removes it so the document starts at the very top */
    body.attach-top { 
      --quiz-top: 30px;
      overflow-y: hidden;
    }
    body.attach-full {
      --quiz-top: 0px;
    }
    /* ensure the container itself uses no rounding in full mode */
    body.attach-full #quiz-container {
      border-radius: 0;
    }

    /* When JS sets the options container to display: grid (inline style),
       remove the per-option vertical margins so the grid gap controls spacing.
       This keeps block layout unchanged but fixes the 2x2 spacing imbalance. */
    #options[style*="display: grid"] .option {
      margin: 0;
    }

    /* Ensure the grid uses the intended row/column gaps (row = 12px, column = 15px) */
    #options[style*="display: grid"] {
      gap: 12px 15px;
    }
